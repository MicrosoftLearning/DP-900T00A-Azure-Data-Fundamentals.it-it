---
ms.openlocfilehash: faba66fd211251cabf9efd984bb907f35d419ce4
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051355"
---
# <a name="open"></a>apre

> Aprire elementi come URL, file, file eseguibili. Funzionamento multipiattaforma.

Questo modulo è progettato per l'uso negli strumenti e negli script della riga di comando, non nel browser.

Se è necessario per Electron, usare invece [`shell.openPath()`](https://www.electronjs.org/docs/api/shell#shellopenpathpath).

Nota: il [pacchetto `open`](https://github.com/pwnall/node-open) originale è stato deprecato in precedenza a favore di questo pacchetto e abbiamo ottenuto il nome, quindi questo pacchetto è ora denominato `open` anziché `opn`. Se si esegue l'aggiornamento dal pacchetto `open` originale (`open@0.0.5` o versione precedente), tenere presente che l'API è diversa.

#### <a name="why"></a>Perché?

- Mantenuto aggiornato attivamente.
- Supporta gli argomenti dell'app.
- Più sicuro perché usa `spawn` invece di `exec`.
- Risolve la maggior parte dei problemi originali di `node-open` aperti.
- Include lo [script `xdg-open`](https://cgit.freedesktop.org/xdg/xdg-utils/commit/?id=c55122295c2a480fa721a9614f0e2d42b2949c18) più recente per Linux.
- Supporta i percorsi WSL per le app Windows.

## <a name="install"></a>Installazione

```
$ npm install open
```

## <a name="usage"></a>Utilizzo

```js
const open = require('open');

(async () => {
    // Opens the image in the default image viewer and waits for the opened app to quit.
    await open('unicorn.png', {wait: true});
    console.log('The image viewer app quit');

    // Opens the URL in the default browser.
    await open('https://sindresorhus.com');

    // Opens the URL in a specified browser.
    await open('https://sindresorhus.com', {app: 'firefox'});

    // Specify app arguments.
    await open('https://sindresorhus.com', {app: ['google chrome', '--incognito']});
})();
```

## <a name="api"></a>API

Usa il comando `open` in macOS, `start` in Windows e `xdg-open` in altre piattaforme.

### <a name="opentarget-options"></a>open(target, options?)

Restituisce una promessa per il [processo figlio generato](https://nodejs.org/api/child_process.html#child_process_class_childprocess). Normalmente non è necessario usarlo, ma può essere utile se si desidera collegare listener eventi personalizzati o eseguire altre operazioni direttamente sul processo generato.

#### <a name="target"></a>target

Digitare: `string`

Elemento che si vuole aprire. Può essere un URL, un file o un eseguibile.

Si apre nell'app predefinita per il tipo di file. Ad esempio, gli URL vengono aperti nel browser predefinito.

#### <a name="options"></a>opzioni

Digitare: `object`

##### <a name="wait"></a>wait

Tipo: `boolean`\
Valore predefinito: `false`

Attendere l'uscita dell'app aperta prima di soddisfare la promessa. Se `false`, la promessa viene soddisfatta immediatamente all'apertura dell'app.

Si noti che attende l'uscita dell'app e non solo la chiusura della finestra.

In Windows è necessario specificare in modo esplicito un'app per poter attivare l'attesa.

##### <a name="background-supmacos-onlysup"></a>background <sup>(solo macOS)</sup>

Tipo: `boolean`\
Valore predefinito: `false`

Non portare l'app in primo piano.

##### <a name="app"></a>app

Digitare: `string | string[]`

Specificare l'app con cui aprire `target` o una matrice con l'app e gli argomenti dell'app.

Il nome dell'app dipende dalla piattaforma. Non includerlo come hardcoded nei moduli riutilizzabili. Ad esempio, Chrome è `google chrome` in macOS, `google-chrome` in Linux e `chrome` in Windows.

È anche possibile passare il percorso completo dell'app. In WSL, ad esempio, questo può essere `/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe` per l'installazione Windows di Chrome.

##### <a name="url"></a>url

Tipo: `boolean`\
Valore predefinito: `false`

Usa `URL` per codificare la destinazione prima di eseguirla.<br>
Non è consigliabile usarlo nelle destinazioni che non sono URL.

Particolarmente utile per gestire la questione delle [virgolette doppie in Windows](#double-quotes-on-windows).

##### <a name="allownonzeroexitcode"></a>allowNonzeroExitCode

Tipo: `boolean`\
Valore predefinito: `false`

Consentire all'app aperta di uscire con codice di uscita diverso da zero quando l'opzione `wait` è `true`.

L'impostazione di questa opzione è sconsigliata. La convenzione per l'esito positivo è il codice di uscita zero.

## <a name="caveats"></a>Precisazioni

### <a name="double-quotes-on-windows"></a>Virgolette doppie in Windows

TL;DR: tutte le virgolette doppie vengono rimosse da `target` e non arrivano alla destinazione desiderata (in Windows).

A causa di comportamenti specifici del prompt dei comandi di Windows (`cmd.exe`) relativi ai caratteri "e" commerciale (`&`) che compromettono il funzionamento di comandi e URL, le virgolette doppie sono ora un caso speciale.

La soluzione ([#146](https://github.com/sindresorhus/open/pull/146)) a questo e altri problemi è stata sfruttare il fatto che `cmd.exe` interpreta un argomento con virgolette doppie come un argomento di testo normale semplicemente usando le virgolette (come Node.js fa già). Sfortunatamente, `cmd.exe` può eseguire solo **una** di due operazioni: gestirle tutte **O** non gestirle affatto. Come indicato nella documentazione:

>*Se si specifica /C o /K, il resto della riga di comando dopo l'opzione viene elaborato come riga di comando, in cui viene usata la logica seguente per elaborare i caratteri virgolette ("):*
>
>    1.  *Se vengono soddisfatte tutte le condizioni seguenti, vengono mantenuti i caratteri virgolette nella riga di comando:*
>        - *nessuna opzione /S*
>        - *esattamente due caratteri virgolette*
>        - *nessun carattere speciale tra i due caratteri virgolette, dove con speciale si intende uno di questi caratteri: &<>()@^|*
>        - *ci sono uno o più caratteri spazi vuoti tra i due caratteri virgolette*
>        - *la stringa tra i due caratteri virgolette è il nome di un file eseguibile.*
>
>    2.  *In caso contrario, il comportamento precedente consiste nel verificare se il primo carattere è un carattere virgolette e, in tal caso, rimuovere il carattere iniziale e rimuovere l'ultimo carattere virgolette nella riga di comando, mantenendo qualsiasi testo dopo l'ultimo carattere virgolette.*

L'opzione che ha risolto tutti i problemi è stata la seconda e per garantire una maggiore coerenza del comportamento viene ora usata anche l'opzione `/S`, quindi si ottiene **sempre** la seconda opzione. Il problema è che questa gestione delle virgolette doppie predefinita finisce con causare la rimozione di tutte le virgolette dalla riga di comando e finora non siamo riusciti a trovare un metodo di escape che funziona (se qualcuno ci riesce, è caldamente invitato a condividere il suo contributo).

Per limitare l'impatto di questo problema (almeno per gli URL), vedere l'[opzione URL](#url). Le virgolette doppie verranno "mantenute" quando vengono usate con un URL.

## <a name="related"></a>Risorse correlate

- [open-cli](https://github.com/sindresorhus/open-cli) - Interfaccia della riga di comando per questo modulo
- [open-editor](https://github.com/sindresorhus/open-editor) - Aprire file nell'editor in corrispondenza di una riga e di una colonna specifica

---

<div align="center">
    <b>
        <a href="https://tidelift.com/subscription/pkg/npm-opn?utm_source=npm-opn&utm_medium=referral&utm_campaign=readme">Ottenere supporto professionale per questo pacchetto con una sottoscrizione Tidelift</a>
    </b>
    <br>
    <sub> Tidelift aiuta a rendere lo sviluppo open source sostenibile per i gestori, offrendo alle aziende<br>garanzie per la sicurezza, la manutenzione e le licenze delle relative dipendenze.
    </sub>
</div>
