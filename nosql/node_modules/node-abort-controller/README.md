---
ms.openlocfilehash: ca2cf748b426d17058b55202a60ece01d9e05592
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051459"
---
# <a name="node-abort-controller"></a>node-abort-controller

Polyfill AbortController per Node.JS basato su EventEmitter

[![Stato della compilazione](https://dev.azure.com/stfaul/node-abort-controller/_apis/build/status/southpolesteve.node-abort-controller?branchName=master)](https://dev.azure.com/stfaul/node-abort-controller/_build/latest?definitionId=3&branchName=master)

## <a name="usage"></a>Utilizzo

```js
import fetch from 'node-fetch'
import AbortController from 'node-abort-controller'

const controller = new AbortController()
const signal = controller.signal

await fetch('https:/www.google.com', { signal })

// Abort after 500ms. Effectively a timeout
setTimeout(() => controller.abort(), 500)
```

## <a name="why-would-i-use-this"></a>Perché usarlo?

Potrebbe non essere necessario. In generale, il codice JavaScript può essere eseguito in tre ambienti:

- Nodo
- Browser moderni (non Internet Explorer)
- Browser legacy (prevalentemente Internet Explorer)

Per le API JS moderne, ogni ambiente otterrebbe idealmente un polyfill:

- solo se necessario
- specifico della piattaforma.

In pratica, non è facile. Gli strumenti come webpack e browserify sono ideali per assicurarsi che le cose funzionino per impostazione predefinita in tutti gli ambienti. Ma è abbastanza facile fallire per entrambi i punti sopra. È molto probabile che si finisca per fornire polyfill tutt'altro che ideali su piattaforme che non ne hanno neanche bisogno. Quindi, cosa deve fare uno sviluppatore? Nel caso di `fetch` e `AbortController` ci ho pensato io. Questa è una guida al mio lavoro.

Se si sta sviluppando una ...

#### <a name="application-running-in-modern-browsers"></a>Applicazione in esecuzione nei browser moderni:

Congratulazioni. Non serve affatto una libreria o un polyfill. Chiudere questa scheda. Disinstallare questo pacchetto.

#### <a name="application-running-in-modern-browsers-and-node-such-as-a-server-side-rendered-js-app"></a>Applicazione in esecuzione nei browser moderni E node (ad esempio, un'app JS con rendering sul lato server):

Usare _questo pacchetto_ e [node-fetch](https://www.npmjs.com/package/node-fetch). È tutto ciò che serve.

#### <a name="application-supporting-legacy-browsers-and-not-node"></a>Applicazione che supporta browser legacy E NON node:

Usare [abort-controller](https://www.npmjs.com/package/abort-controller) e [whatwg-fetch](https://www.npmjs.com/package/whatwg-fetch). Questi sono polyfill più completi che funzioneranno in tutti gli ambienti browser.

#### <a name="application-supporting-legacy-browsers-and-node"></a>Applicazione che supporta browser legacy E node:

Usare [abort-controller](https://www.npmjs.com/package/abort-controller) e [cross-fetch](https://www.npmjs.com/package/cross-fetch). Come sopra, ad eccezione che cross-fetch gestirà correttamente il polyfill sia nel browser che in node.js

#### <a name="library-being-consumed-by-other-applications-and-using-fetch-internally"></a>Libreria utilizzata da altre applicazioni e che usa `fetch` internamente:

Usare _questo pacchetto_ e [node-fetch](https://www.npmjs.com/package/node-fetch). È la combinazione più piccola e meno presuntuosa per gli utenti finali. Gli sviluppatori di applicazioni destinate a Internet Explorer dovranno eseguire il polyfill di `AbortController` e `fetch` autonomamente. Ma la libreria non forzerà polyfill non necessari per gli sviluppatori che usano come destinazione solo i browser moderni.

## <a name="goals"></a>Obiettivi

Tenendo presente la guida precedente, questa libreria ha un set di obiettivi molto specifico:

1. Fornire un polyfill minimo in node.js
2. Non fornire un polyfill in alcun ambiente browser

Questo è l'ideale per gli _autori di librerie_ che usano `fetch` e `AbortController` internamente e che sviluppano _sia_ per il browser che per node.

## <a name="prior-art"></a>Arte nota

Grazie a @mysticatea per https://github.com/mysticatea/abort-controller. È un fantastico polyfill `AbortController` ideale per molti casi d'uso.
