---
ms.openlocfilehash: 1997c778eb616617ba9d369f6a27828bf83af8b8
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051002"
---
Parser in formato ini e serializzatore per il nodo.

Le sezioni vengono considerate come oggetti annidati.  Gli elementi prima del primo titolo vengono salvati direttamente nell'oggetto.

## <a name="usage"></a>Utilizzo

Si consideri un file ini `config.ini` simile a questo:

    ; this comment is being ignored
    scope = global

    [database]
    user = dbuser
    password = dbpassword
    database = use_this_database

    [paths.default]
    datadir = /var/lib/data
    array[] = first value
    array[] = second value
    array[] = third value

È possibile leggere, modificare e scrivere il file ini come segue:

    var fs = require('fs')
      , ini = require('ini')

    var config = ini.parse(fs.readFileSync('./config.ini', 'utf-8'))

    config.scope = 'local'
    config.database.database = 'use_another_database'
    config.paths.default.tmpdir = '/tmp'
    delete config.paths.default.datadir
    config.paths.default.array.push('fourth value')

    fs.writeFileSync('./config_modified.ini', ini.stringify(config, { section: 'section' }))

Un file denominato `config_modified.ini` verrà scritto nel file system con il contenuto seguente:

    [section]
    scope=local
    [section.database]
    user=dbuser
    password=dbpassword
    database=use_another_database
    [section.paths.default]
    tmpdir=/tmp
    array[]=first value
    array[]=second value
    array[]=third value
    array[]=fourth value


## <a name="api"></a>API

### <a name="decodeinistring"></a>decode(inistring)

Decodifica l'oggetto `inistring` formattato in stile ini in un oggetto annidato.

### <a name="parseinistring"></a>parse(inistring)

Alias per `decode(inistring)`

### <a name="encodeobject-options"></a>encode(object, [options])

Codifica l'oggetto `object` in una stringa formattata in stile ini. Se viene specificato il parametro facoltativo `section`, tutte le proprietà di primo livello dell'oggetto vengono inserite in questa sezione e la stringa `section` viene anteposta a tutte le sezioni secondarie. Vedere in proposito l'esempio di utilizzo precedente.

L'oggetto `options` può contenere quanto segue:

* `section`: stringa che sarà il primo oggetto `section` nei dati ini codificati.  Il valore predefinito è none.
* `whitespace`: valore booleano per specificare se inserire spazi vuoti attorno al carattere `=`.  Per impostazione predefinita, gli spazi vuoti vengono omessi per agevolare alcuni parser meno recenti che non li tollerano,  anche se alcuni ritengono che gli spazi vuoti lo rendano più leggibile.

Per motivi di compatibilità con le versioni precedenti, se viene passata un'opzione `string`, si presuppone che sia il valore `section`.

### <a name="stringifyobject-options"></a>stringify(object, [options])

Alias per `encode(object, [options])`

### <a name="safeval"></a>safe(val)

Esegue l'escape della stringa `val` in modo che sia utilizzabile come chiave o valore in un file ini. Fondamentalmente esegue l'escape delle virgolette. Ad esempio:

    ini.safe('"unsafe string"')

diventa

    "\"unsafe string\""

### <a name="unsafeval"></a>unsafe(val)

Annulla l'escape della stringa `val`
