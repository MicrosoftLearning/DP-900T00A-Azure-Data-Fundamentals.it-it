---
ms.openlocfilehash: 05bea0332c8376e66d4aed62eab42a50c744536d
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051675"
---
# <a name="microsoft-authentication-library-for-node-msal-node"></a>Microsoft Authentication Library per Node (msal-node)

[![versione npm](https://img.shields.io/npm/v/@azure/msal-node.svg?style=flat)](https://www.npmjs.com/package/@azure/msal-node/)[![versione npm](https://img.shields.io/npm/dm/@azure/msal-node.svg)](https://nodei.co/npm/@azure/msal-node/)[![Stato della copertura](https://coveralls.io/repos/github/AzureAD/microsoft-authentication-library-for-js/badge.svg?branch=dev)](https://coveralls.io/github/AzureAD/microsoft-authentication-library-for-js?branch=dev)

| <a href="https://docs.microsoft.com/azure/active-directory/develop/guidedsetups/active-directory-javascriptspa" target="_blank">Per iniziare</a> | <a href="https://aka.ms/aaddevv2" target="_blank">Documentazione di AAD</a> | <a href="https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_node.html" target="_blank">Riferimenti della libreria</a> |
| --- | --- | --- |

`msal-node` è attualmente in fase di sviluppo. Tenere traccia dello stato di avanzamento del progetto [qui](https://github.com/AzureAD/microsoft-authentication-library-for-js/projects/4). Anche la stesura di questa documentazione è in corso e verrà modificata man mano che verranno rilasciate le patch `alpha`. **Non è ancora consigliabile usarla in un ambiente di produzione**.

1. [Informazioni](#about)
2. [Domande frequenti](#faq)
3. [Versioni](#releases)
4. [Prerequisiti](#prerequisites)
5. [Installazione](#installation)
6. [Utilizzo](#usage)
7. [Esempi](#samples)
8. [Libreria di compilazioni](#build-and-test)
9. [Segnalazioni per la sicurezza](#security-reporting)
10. [License](#license)
11. [Codice di comportamento](#we-value-and-adhere-to-the-microsoft-open-source-code-of-conduct)

## <a name="about"></a>Informazioni

MSAL Node consente alle applicazioni di autenticare gli utenti usando account aziendali e dell'istituto di istruzione di [Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-overview) (AAD), account personali Microsoft (MSA) e provider di identità social come Facebook, Google, LinkedIn, account Microsoft e così via tramite il servizio [Azure AD B2C](https://docs.microsoft.com/en-us/azure/active-directory-b2c/active-directory-b2c-overview#identity-providers). Consente anche all'app di ottenere i token per accedere ai servizi [Microsoft Cloud](https://www.microsoft.com/enterprise), ad esempio [Microsoft Graph](https://graph.microsoft.io).


### <a name="oauth20-grant-types-supported"></a>Tipi di concessione OAuth2.0 supportati:

La versione alfa corrente supporta i modi seguenti per acquisire i token:

#### <a name="public-client"></a>Client pubblico:
- [Concessione del codice di autorizzazione](https://oauth.net/2/grant-types/authorization-code/) con [PKCE](https://oauth.net/2/pkce/)
- [Concessione del codice del dispositivo](https://oauth.net/2/grant-types/device-code/)
- [Concessione del token di aggiornamento](https://oauth.net/2/grant-types/refresh-token/)
- [Flusso automatico](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache)

#### <a name="confidential-client"></a>Client riservato:
- [Concessione del codice di autorizzazione](https://oauth.net/2/grant-types/authorization-code/) con una credenziale client
- [Concessione del token di aggiornamento](https://oauth.net/2/grant-types/refresh-token/)
- [Flusso automatico](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-acquire-cache-tokens#acquiring-tokens-silently-from-the-cache)
- [Concessione di credenziali client](https://oauth.net/2/grant-types/client-credentials/)
- [Flusso on-behalf-of](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow)

**[Presto disponibile]** in futuro verrà aggiunto il supporto per:
- [Flusso di autenticazione integrata di Windows](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#integrated-windows-authentication)
- [Flusso di nome utente e password](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows#usernamepassword)

Altre informazioni sui diversi tipi di concessione supportati dalle librerie di autenticazione Microsoft in generale sono disponibili [qui](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-authentication-flows).

### <a name="scenarios-supported"></a>Scenari supportati:

Gli scenari supportati con questa libreria sono:
- App desktop che chiama le API Web
- App Web che chiama le API Web
- API Web che chiamano API Web
- App daemon

Altre informazioni sugli scenari e sui flussi di autenticazione corrispondenti a ognuno di essi sono disponibili [qui](https://docs.microsoft.com/en-us/azure/active-directory/develop/authentication-flows-app-scenarios).

## <a name="faq"></a>Domande frequenti

Vedere [qui](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/faq.md).

## <a name="prerequisites"></a>Prerequisiti

Prima di usare `@azure/msal-node`, sarà necessario registrare l'app nel portale di Azure:

- [Registrazione delle app](https://docs.microsoft.com/en-us/graph/auth-register-app-v2)

## <a name="installation"></a>Installazione

### <a name="via-npm"></a>Tramite NPM:
```javascript
npm install @azure/msal-node
```
##  <a name="usage"></a>Utilizzo

### <a name="msal-basics"></a>Informazioni di base su MSAL
- [Informazioni sulla differenza tra client pubblico e client riservati](https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-client-applications)
- [Inizializzare un'applicazione client pubblica](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-public-client-application.md)
- [Inizializzare un'applicazione client riservata](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/initialize-confidential-client-application.md)
- [Configuration](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-node/docs/configuration.md)
- [Richiesta](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/request.md)
- [Risposta](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/response.md)

## <a name="samples"></a>Esempi
Nel repository sono inclusi più [esempi](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples) che usano MSAL Node per acquisire i token. Poiché questi esempi sono attualmente usati per i test manuali e non sono da intendersi come un riferimento alle procedure consigliate, prestare attenzione e non copiare questo codice in applicazioni di produzione senza averlo prima controllato.

- [auth-code](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/auth-code): app Express che usa il flusso del codice di autorizzazione OAuth2.0.
- [device-code](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/device-code): app della riga di comando che usa il flusso del codice del dispositivo OAuth 2.0.
- [refresh-token](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/refresh-token): app della riga di comando che usa il flusso di aggiornamento OAuth 2.0.
- [silent-flow](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/silent-flow): app Express che usa il flusso del codice di autorizzazione OAuth2.0 per acquisire un token e archiviarlo nella cache dei token e il flusso automatico per usare i token nella cache dei token.
- [client-credentials](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/client-credentials): app daemon che usa la concessione delle credenziali client Oauth 2.0 per acquisire un token.
- [on-behalf-of](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/samples/msal-node-samples/standalone-samples/on-behalf-of): applicazione Web che usa il flusso del codice di autorizzazione Oauth 2.0 per acquisire un token per un'API Web. L'API Web convalida il token e chiama Microsoft Graph per conto dell'utente che ha eseguito l'autenticazione nell'applicazione Web.
- [msal-node-extensions](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/extensions/samples/msal-node-extensions): usa il flusso del codice di autorizzazione per acquisire i token e la libreria [msal-extensions](https://github.com/AzureAD/microsoft-authentication-library-for-js/tree/dev/extensions/) per scrivere nel disco la cache dei token in memoria MSAL.

## <a name="build-and-test"></a>Compilazione e test

- Se [lerna](https://github.com/lerna/lerna) non è installato, eseguire `npm install -g lerna`
- Eseguire `lerna bootstrap` da qualsiasi posizione all'interno di `microsoft-authentication-library-for-js.git`.
- Passare a `microsoft-authentication-library-for-js/lib/msal-common` ed eseguire `npm run build`
- Passare a `microsoft-authentication-library-for-js/lib/msal-node` ed eseguire `npm run build`

```javascript
// to link msal-node and msal-common packages
lerna bootstrap

// Change to the msal-node package directory
cd lib/msal-common/

// To run build only for node package
npm run build

// Change to the msal-node package directory
cd lib/msal-node/

// To run build only for node package
npm run build
```

### <a name="local-development"></a>Sviluppo locale
Di seguito è riportato un elenco di comandi che possono essere utili:

#### `npm run build:modules:watch`
Esegue il progetto in modalità sviluppo/espressione di controllo. Il progetto verrà ricompilato in caso di modifiche. TSDX ha un logger speciale per praticità. I messaggi di errore vengono stampati e formattati in modo che siano compatibili con la scheda Problemi di VS Code. La libreria viene ricompilata se si apportano modifiche.

#### `npm run build`
Crea il pacchetto nella cartella `dist`.
Il pacchetto è ottimizzato e in bundle con il rollup in più formati (CommonJS, UMD e ES Module).

#### `lerna bootstrap`
Se si esegue il progetto in modalità di sviluppo/espressione di controllo o se sono state apportate modifiche in `msal-common` ed è necessario che siano applicate in tutto il progetto, eseguire `lerna bootstrap` per collegare tutti i simboli. Si noti che `npm install` scollega tutto il codice, quindi è consigliabile eseguire `lerna bootstrap` dopo l'installazione.

#### `npm run lint`
Esegue eslint con Prettier

#### <a name="npm-test-npm-run-testcoverage-npm-run-testwatch"></a>`npm test`, `npm run test:coverage`, `npm run test:watch`
Esegue il watcher di test (Jest) in modalità interattiva.
Per impostazione predefinita, esegue i test correlati ai file modificati dopo l'ultimo commit.
Generare il code coverage aggiungendo il flag --coverage. Non sono necessarie altre operazioni di configurazione. Jest può raccogliere informazioni sul code coverage da interi progetti, inclusi i file non testati.

## <a name="security-reporting"></a>Segnalazioni per la sicurezza

Se si riscontra un problema di sicurezza con le librerie o i servizi, segnalarlo a [secure@microsoft.com](mailto:secure@microsoft.com) con il maggior numero possibile di dettagli. Per l'invio potrebbe essere prevista una ricompensa tramite il programma [Microsoft Bounty](http://aka.ms/bugbounty). Non pubblicare problemi di sicurezza in GitHub Issues o altri siti pubblici. Contatteremo l'autore dell'invio poco tempo dopo aver ricevuto le informazioni. È consigliabile ricevere notifiche in caso di problemi di sicurezza. A tale scopo, visitare [questa pagina](https://technet.microsoft.com/security/dd252948) e sottoscrivere gli avvisi di sicurezza.

## <a name="license"></a>Licenza

Copyright (c) Microsoft Corporation.  Tutti i diritti sono riservati. Concesso in licenza secondo i termini della licenza MIT.

## <a name="we-value-and-adhere-to-the-microsoft-open-source-code-of-conduct"></a>Microsoft apprezza e rispetta il codice di comportamento Microsoft per l'open source

Questo progetto ha adottato il [Codice di comportamento di Microsoft per l'open source](https://opensource.microsoft.com/codeofconduct/). Per altre informazioni, vedere [Code of Conduct FAQ](https://opensource.microsoft.com/codeofconduct/faq/) (Domande frequenti sul codice di condotta) oppure contattare [opencode@microsoft.com](mailto:opencode@microsoft.com) per eventuali domande o commenti.

