---
ms.openlocfilehash: f445a828ea5ae5cba850b910d938f10a783a7ed8
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/05/2022
ms.locfileid: "138050970"
---
# <a name="npmlog"></a>npmlog

Utilità logger usata da npm.

Questo logger è molto semplice.  Esegue la registrazione per npm.  Supporta livelli personalizzati e output a colori.

Per impostazione predefinita, i log vengono scritti in stderr.  Se si vogliono inviare messaggi di log a output diversi dai flussi, è possibile modificare il membro `log.stream` oppure è sufficiente restare in ascolto degli eventi generati ed eseguire qualsiasi operazione desiderata con essi.

# <a name="installation"></a>Installazione

```console
npm install npmlog --save
```

# <a name="basic-usage"></a>Utilizzo di base

```javascript
var log = require('npmlog')

// additional stuff ---------------------------+
// message ----------+                         |
// prefix ----+      |                         |
// level -+   |      |                         |
//        v   v      v                         v
    log.info('fyi', 'I have a kitty cat: %j', myKittyCat)
```

## <a name="loglevel"></a>log.level

* {Stringa}

Livello per la visualizzazione dei log.  Verrà visualizzato qualsiasi log con questo livello o un livello superiore.  Il livello speciale `silent` impedirà la visualizzazione di qualsiasi elemento.

## <a name="logrecord"></a>log.record

* {Array}

Matrice di tutti i messaggi di log immessi.

## <a name="logmaxrecordsize"></a>log.maxRecordSize

* {Number}

Numero massimo di record da mantenere.  Se log.record diventa maggiore del 10% rispetto a questo valore, viene sezionato fino al 90% di questo valore.

Il motivo della finestra del 10% è fare in modo che non sia necessario ridimensionare una matrice di grandi dimensioni per ogni voce immessa nel log.

## <a name="logprefixstyle"></a>log.prefixStyle

* {Object}

Oggetto di stile che specifica lo stile applicato ai prefissi.  (Vedere di seguito)

## <a name="logheadingstyle"></a>log.headingStyle

* {Object}

Oggetto di stile che specifica lo stile applicato al titolo.  (Vedere di seguito)

## <a name="logheading"></a>log.heading

* {String} Valore predefinito: ""

Se impostato, un titolo stampato all'inizio di ogni riga.

## <a name="logstream"></a>log.stream

* {Stream} Valore predefinito: `process.stderr`

Flusso in cui viene scritto l'output.

## <a name="logenablecolor"></a>log.enableColor()

Forzare l'uso dei colori per tutti i messaggi, indipendentemente dal flusso di output.

## <a name="logdisablecolor"></a>log.disableColor()

Disabilitare i colori per tutti i messaggi.

## <a name="logenableprogress"></a>log.enableProgress()

Abilitare la visualizzazione del controllo di selezione dell'attività del log e dell'indicatore di stato

## <a name="logdisableprogress"></a>log.disableProgress()

Disabilitare la visualizzazione di un indicatore di stato

## <a name="logenableunicode"></a>log.enableUnicode()

Forzare l'uso del tema Unicode per l'indicatore di stato.

## <a name="logdisableunicode"></a>log.disableUnicode()

Disabilitare l'uso di Unicode per l'indicatore di stato.

## <a name="logsetgaugetemplatetemplate"></a>log.setGaugeTemplate(template)

Impostare un modello per l'output della barra di stato. Per altri dettagli, vedere la [documentazione per gauge].

[Documentazione per gauge]: https://npmjs.com/package/gauge

## <a name="logsetgaugethemesetthemes"></a>log.setGaugeThemeset(themes)

Selezionare un set di temi da cui selezionare i temi per l'indicatore di stato. Per altri dettagli, vedere la [documentazione per gauge].

## <a name="logpause"></a>log.pause()

Arrestare l'emissione di messaggi al flusso, ma non eliminarli.

## <a name="logresume"></a>log.resume()

Generare tutti i messaggi memorizzati nel buffer scritti durante la pausa.

## <a name="logloglevel-prefix-message-"></a>log.log(level, prefix, message, ...)

* `level` {String} Livello per generare il messaggio
* `prefix` {String} Prefisso stringa.  Impostare su "" per ignorare.
* `message...` Argomenti per `util.format`

Genera un messaggio di log per il livello specificato.

## <a name="loglevel"></a>log\[level](prefix, message, ...)

Ad esempio,

* log.silly(prefix, message, ...)
* log.verbose(prefix, message, ...)
* log.info(prefix, message, ...)
* log.http(prefix, message, ...)
* log.warn(prefix, message, ...)
* log.error(prefix, message, ...)

ad esempio `log.log(level, prefix, message, ...)`.  In questo modo, a ogni livello viene assegnata una versione abbreviata, in modo che sia possibile eseguire `log.info(prefix, message)`.

## <a name="logaddlevellevel-n-style-disp"></a>log.addLevel(level, n, style, disp)

* `level` {String} Indicatore del livello
* `n` {Number} Livello numerico
* `style` {Object} Oggetto con fg, bg, inverse e così via.
* `disp` {String} Sostituzione facoltativa per `level` nell'output.

Imposta un nuovo livello con una funzione abbreviata e così via.

Si noti che se il numero è `Infinity`, l'impostazione del livello su tale numero causerà l'eliminazione di tutti i messaggi di log.  Se il numero è `-Infinity`, l'unico modo per visualizzarlo consiste nell'abilitare tutti i messaggi di log.

## <a name="lognewitemname-todo-weight"></a>log.newItem(name, todo, weight)

* `name` {String} Facoltativo; nome dell'elemento di stato.
* `todo` {Numero} Facoltativo; quantità di lavoro totale da eseguire. Il valore predefinito è 0.
* `weight` {Numero} Facoltativo; il peso di questo elemento rispetto ad altri. Il valore predefinito è 1.

In questo modo viene aggiunto un nuovo tracker di elementi `are-we-there-yet` al tracker di stato. L'oggetto restituito ha i metodi `log[level]`, ma è per il resto un oggetto `are-we-there-yet` `Tracker`.

## <a name="lognewstreamname-todo-weight"></a>log.newStream(name, todo, weight)

Aggiunge un nuovo tracker di flussi `are-we-there-yet` al tracker di stato. L'oggetto restituito ha i metodi `log[level]`, ma è per il resto un oggetto `are-we-there-yet` `TrackerStream`.

## <a name="lognewgroupname-weight"></a>log.newGroup(name, weight)

Aggiunge un nuovo gruppo di tracker `are-we-there-yet` al tracker di stato. L'oggetto restituito ha i metodi `log[level]`, ma è per il resto un oggetto `are-we-there-yet` `TrackerGroup`.

# <a name="events"></a>evento

Gli eventi vengono tutti generati con l'oggetto messaggio.

* `log` Generato per tutti i messaggi
* `log.<level>` Generato per tutti i messaggi con il livello `<level>`.
* `<prefix>` I messaggi con prefisso generano anche il prefisso come evento.

# <a name="style-objects"></a>Oggetti stile

Gli oggetti stile possono avere i campi seguenti:

* `fg` {String} Colore per il testo in primo piano
* `bg` {String} Colore per lo sfondo
* `bold`, `inverse`, `underline` {Boolean} Impostare la proprietà associata
* `bell` {Boolean} Fare un rumore (piuttosto fastidioso, probabilmente.)

# <a name="message-objects"></a>Oggetti messaggio

Ogni evento di log viene generato con un oggetto messaggio e l'elenco `log.record` contiene tutti quelli creati.  Includono i campi seguenti:

* `id` {Number}
* `level` {String}
* `prefix` {String}
* `message` {String} Risultato di `util.format()`
* `messageRaw` {Array} Argomenti per `util.format()`

# <a name="blocking-ttys"></a>Blocco di TTY

Viene usato [`set-blocking`](https://npmjs.com/package/set-blocking) per impostare il blocco di stderr e stdout se sono tty e includono la chiamata setBlocking.
Si tratta di una soluzione per un problema presente nelle prime versioni di Node.js 6.x, in cui stderr e stdout non causavano il blocco in OSX. (Bloccano sempre Windows e non bloccano mai in Linux.) Per `npmlog` è necessario che attivino il blocco in modo che possa consentire l'interlacciamento dell'output di stdout e stderr.
