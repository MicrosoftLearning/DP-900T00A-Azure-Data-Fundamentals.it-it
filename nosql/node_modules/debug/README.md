---
ms.openlocfilehash: 0dad0f9e52c6ad7304b11c25c495ab90d49a7d98
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051844"
---
# <a name="debug"></a>debug
[![Stato della compilazione](https://travis-ci.org/visionmedia/debug.svg?branch=master)](https://travis-ci.org/visionmedia/debug) [![Stato del code coverage](https://coveralls.io/repos/github/visionmedia/debug/badge.svg?branch=master)](https://coveralls.io/github/visionmedia/debug?branch=master) [![Slack](https://visionmedia-community-slackin.now.sh/badge.svg)](https://visionmedia-community-slackin.now.sh/) [![OpenCollective](https://opencollective.com/debug/backers/badge.svg)](#backers)
[![OpenCollective](https://opencollective.com/debug/sponsors/badge.svg)](#sponsors)

<img width="647" src="https://user-images.githubusercontent.com/71256/29091486-fa38524c-7c37-11e7-895f-e7ec8e1039b6.png">

Una piccola utilità di debug JavaScript modellata in base alla tecnica di debug di Node.js core. Funziona in Node.js e Web browser.

## <a name="installation"></a>Installazione

```bash
$ npm install debug
```

## <a name="usage"></a>Utilizzo

`debug` espone una funzione. Passare semplicemente questa funzione al nome del modulo e restituirà una versione decorata di `console.error` a cui passare le istruzioni di debug. In questo modo sarà possibile attivare o disattivare l'output di debug per diverse parti del modulo, oltre al modulo nel suo complesso.

File [_app.js_](./examples/node/app.js) di esempio:

```js
var debug = require('debug')('http')
  , http = require('http')
  , name = 'My App';

// fake app

debug('booting %o', name);

http.createServer(function(req, res){
  debug(req.method + ' ' + req.url);
  res.end('hello\n');
}).listen(3000, function(){
  debug('listening');
});

// fake worker of some kind

require('./worker');
```

File [_worker.js_](./examples/node/worker.js) di esempio:

```js
var a = require('debug')('worker:a')
  , b = require('debug')('worker:b');

function work() {
  a('doing lots of uninteresting work');
  setTimeout(work, Math.random() * 1000);
}

work();

function workb() {
  b('doing some work');
  setTimeout(workb, Math.random() * 2000);
}

workb();
```

La variabile di ambiente `DEBUG` viene quindi usata per abilitare queste variabili in base a uno spazio o a nomi delimitati da virgole.

Di seguito sono riportati alcuni esempi:

<img width="647" alt="screen shot 2017-08-08 at 12 53 04 pm" src="https://user-images.githubusercontent.com/71256/29091703-a6302cdc-7c38-11e7-8304-7c0b3bc600cd.png">
<img width="647" alt="screen shot 2017-08-08 at 12 53 38 pm" src="https://user-images.githubusercontent.com/71256/29091700-a62a6888-7c38-11e7-800b-db911291ca2b.png">
<img width="647" alt="screen shot 2017-08-08 at 12 53 25 pm" src="https://user-images.githubusercontent.com/71256/29091701-a62ea114-7c38-11e7-826a-2692bedca740.png">

#### <a name="windows-command-prompt-notes"></a>Note sul prompt dei comandi di Windows

##### <a name="cmd"></a>CMD

In Windows la variabile di ambiente viene impostata usando il comando `set`.

```cmd
set DEBUG=*,-not_this
```

Esempio:

```cmd
set DEBUG=* & node app.js
```

##### <a name="powershell-vs-code-default"></a>PowerShell (impostazione predefinita di VS Code)

PowerShell usa una sintassi diversa per impostare le variabili di ambiente.

```cmd
$env:DEBUG = "*,-not_this"
```

Esempio:

```cmd
$env:DEBUG='app';node app.js
```

Eseguire quindi il programma per il debug come di consueto.

Esempio di script npm:
```js
  "windowsDebug": "@powershell -Command $env:DEBUG='*';node app.js",
```

## <a name="namespace-colors"></a>Colori dello spazio dei nomi

Per ogni istanza di debug viene generato un colore in base al nome dello spazio dei nomi.
Questo consente di analizzare visivamente l'output di debug per identificare l'istanza di debug a cui appartiene una riga di debug.

#### <a name="nodejs"></a>Node.js

In Node.js i colori vengono abilitati quando stderr è un TTY. È anche _necessario_ installare il modulo [`supports-color`](https://npmjs.org/supports-color) insieme al debug. In caso contrario, il debug userà solo un numero limitato di colori di base.

<img width="521" src="https://user-images.githubusercontent.com/71256/29092181-47f6a9e6-7c3a-11e7-9a14-1928d8a711cd.png">

#### <a name="web-browser"></a>Web browser

I colori sono anche abilitati nei "Web inspector" che interpretano l'opzione di formattazione `%c`. Si tratta dei Web inspector WebKit, di Firefox ([dalla versione 31](https://hacks.mozilla.org/2014/05/editable-box-model-multiple-selection-sublime-text-keys-much-more-firefox-developer-tools-episode-31/)) e del plug-in Firebug per Firefox (qualsiasi versione).

<img width="524" src="https://user-images.githubusercontent.com/71256/29092033-b65f9f2e-7c39-11e7-8e32-f6f0d8e865c1.png">


## <a name="millisecond-diff"></a>Diff in millisecondi

Quando si sviluppa attivamente un'applicazione, può essere utile conoscere il tempo trascorso tra una chiamata `debug()` e la successiva. Si supponga, ad esempio, di richiamare `debug()` sia prima di richiedere una risorsa che dopo la richiesta. "+NNNms" mostrerà quanto tempo è trascorso tra le chiamate.

<img width="647" src="https://user-images.githubusercontent.com/71256/29091486-fa38524c-7c37-11e7-895f-e7ec8e1039b6.png">

Quando stdout non è un TTY, viene usato `Date#toISOString()`, che risulta più utile per registrare le informazioni di debug, come illustrato di seguito:

<img width="647" src="https://user-images.githubusercontent.com/71256/29091956-6bd78372-7c39-11e7-8c55-c948396d6edd.png">


## <a name="conventions"></a>Convenzioni

Se si usa questa opzione in una o più librerie, è _consigliabile_ usare il nome della libreria, in modo che gli sviluppatori possano attivare o disattivare il debug in base alle esigenze conoscendo con precisione i nomi. Se sono presenti più debugger, è _necessario_ anteporre come prefisso il nome della libreria e usare ":" per separare le funzionalità. Ad esempio, "bodyParser" da Connect sarà "connect:bodyParser".  Se si aggiunge "*" alla fine del nome, sarà sempre abilitato, indipendentemente dall'impostazione della variabile di ambiente DEBUG.  Sarà quindi possibile usarlo per l'output normale e l'output di debug.

## <a name="wildcards"></a>Caratteri jolly

Il carattere `*` può essere utilizzato come carattere jolly. Si supponga, ad esempio, che nella libreria siano presenti debugger denominati "connect:bodyParser", "connect:compress", "connect:session". Invece di elencare tutti e tre con `DEBUG=connect:bodyParser,connect:compress,connect:session`, è possibile eseguire semplicemente `DEBUG=connect:*` o usare `DEBUG=*` per eseguire tutto tramite questo modulo.

È anche possibile escludere debugger specifici anteponendo un carattere "-".
Ad esempio, `DEBUG=*,-connect:*` includerà tutti i debugger ad eccezione di quelli che iniziano con "connect:".

## <a name="environment-variables"></a>Variabili di ambiente

Quando si esegue Node.js, è possibile impostare alcune variabili di ambiente che modificano il comportamento della registrazione di debug:

| Nome      | Scopo                                         |
|-----------|-------------------------------------------------|
| `DEBUG`   | Abilita/disabilita specifici spazi dei nomi di debug. |
| `DEBUG_HIDE_DATE` | Nascondere la data dall'output di debug (non TTY).  |
| `DEBUG_COLORS`| Indica se usare o meno i colori nell'output di debug. |
| `DEBUG_DEPTH` | Profondità di verifica degli oggetti.                    |
| `DEBUG_SHOW_HIDDEN` | Mostra le proprietà nascoste negli oggetti verificati. |


__Nota:__ Le variabili di ambiente che iniziano con `DEBUG_` finiscono per essere convertite in un oggetto Options che viene usato con i formattatori `%o`/`%O`.
Vedere la documentazione di Node.js per [`util.inspect()`](https://nodejs.org/api/util.html#util_util_inspect_object_options)
per l'elenco completo.

## <a name="formatters"></a>Formattatori

Il debug usa la formattazione [in stile printf](https://wikipedia.org/wiki/Printf_format_string).
Di seguito sono riportati i formattatori ufficialmente supportati:

| Formattatore | Rappresentazione |
|-----------|----------------|
| `%O`      | Riformattazione di un oggetto su più righe. |
| `%o`      | Riformattazione di un oggetto su una singola riga. |
| `%s`      | Stringa. |
| `%d`      | Numero (intero e float). |
| `%j`      | JSON. Sostituito con la stringa "[Circular]" se l'argomento contiene riferimenti circolari. |
| `%%`      | Segno di percentuale singolo "(%)" Non usa un argomento. |


### <a name="custom-formatters"></a>Formattatori personalizzati

È possibile aggiungere formattatori personalizzati estendendo l'oggetto `debug.formatters`.
Ad esempio, se si vuole aggiungere il supporto per il rendering di un buffer come esadecimale con `%h`, è possibile eseguire operazioni come:

```js
const createDebug = require('debug')
createDebug.formatters.h = (v) => {
  return v.toString('hex')
}

// …elsewhere
const debug = createDebug('foo')
debug('this is hex: %h', new Buffer('hello world'))
//   foo this is hex: 68656c6c6f20776f726c6421 +0ms
```


## <a name="browser-support"></a>Supporto browser

È possibile creare uno script predisposto per il browser con [browserify](https://github.com/substack/node-browserify) o semplicemente usare la [compilazione](https://wzrd.in/standalone/debug@latest) [browserify-as-a-service](https://wzrd.in/), se non si vuole crearlo manualmente.

Lo stato di abilitazione del debug è attualmente reso persistente da `localStorage`.
Si consideri la situazione illustrata di seguito, in cui sono presenti `worker:a` e `worker:b`. Si vuole eseguire il debug di entrambi. È possibile eseguire tale operazione usando `localStorage.debug`:

```js
localStorage.debug = 'worker:*'
```

Quindi aggiornare la pagina.

```js
a = debug('worker:a');
b = debug('worker:b');

setInterval(function(){
  a('doing some work');
}, 1000);

setInterval(function(){
  b('doing some work');
}, 1200);
```


## <a name="output-streams"></a>Flussi di output

  Per impostazione predefinita, `debug` eseguirà l'accesso a stderr. Tuttavia, questa impostazione può essere configurata per ogni spazio dei nomi eseguendo l'override del metodo `log`:

File [_stdout.js_](./examples/node/stdout.js) di esempio:

```js
var debug = require('debug');
var error = debug('app:error');

// by default stderr is used
error('goes to stderr!');

var log = debug('app:log');
// set this namespace to log via console.log
log.log = console.log.bind(console); // don't forget to bind to console!
log('goes to stdout');
error('still goes to stderr!');

// set all output to go via console.info
// overrides all per-namespace log settings
debug.log = console.info.bind(console);
error('now goes to stdout via console.info');
log('still goes to stdout, but via console.info now');
```

## <a name="extend"></a>Extend
È possibile estendere semplicemente il debugger 
```js
const log = require('debug')('auth');

//creates new debug instance with extended namespace
const logSign = log.extend('sign');
const logLogin = log.extend('login');

log('hello'); // auth hello
logSign('hello'); //auth:sign hello
logLogin('hello'); //auth:login hello
```

## <a name="set-dynamically"></a>Impostare in modo dinamico

È anche possibile abilitare il debug in modo dinamico chiamando il metodo `enable()`:

```js
let debug = require('debug');

console.log(1, debug.enabled('test'));

debug.enable('test');
console.log(2, debug.enabled('test'));

debug.disable();
console.log(3, debug.enabled('test'));

```

Stampa:   
```
1 false
2 true
3 false
```

Uso:  
`enable(namespaces)`  
`namespaces` può includere modalità separate da due punti e caratteri jolly.
   
Si noti che la chiamata di `enable()` esegue completamente l'override della variabile DEBUG impostata in precedenza: 

```
$ DEBUG=foo node -e 'var dbg = require("debug"); dbg.enable("bar"); console.log(dbg.enabled("foo"))'
=> false
```

`disable()`

Disabilita tutti gli spazi dei nomi. Le funzioni restituiscono gli spazi dei nomi attualmente abilitati (e ignorati). Può essere utile se si vuole disabilitare temporaneamente il debug senza sapere con cosa è stato abilitato inizialmente.

Esempio:

```js
let debug = require('debug');
debug.enable('foo:*,-foo:bar');
let namespaces = debug.disable();
debug.enable(namespaces);
```

Nota: Non esiste alcuna garanzia che la stringa sia identica alla stringa di abilitazione iniziale, ma semanticamente saranno identiche.

## <a name="checking-whether-a-debug-target-is-enabled"></a>Verifica se una destinazione di debug è abilitata

Dopo aver creato un'istanza di debug, è possibile determinare se è abilitata o meno controllando la proprietà `enabled`:

```javascript
const debug = require('debug')('http');

if (debug.enabled) {
  // do stuff...
}
```

È anche possibile attivare o disattivare manualmente questa proprietà per forzare l'abilitazione o la disabilitazione dell'istanza di debug.


## <a name="authors"></a>Autori

 - TJ Holowaychuk
 - Nathan Rajlich
 - Andrew Rhyne

## <a name="backers"></a>Sostenitori

È possibile supportarci con una donazione mensile e aiutarci a proseguire le nostre attività. [[Diventare un sostenitore](https://opencollective.com/debug#backer)]

<a href="https://opencollective.com/debug/backer/0/website" target="_blank"><img src="https://opencollective.com/debug/backer/0/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/1/website" target="_blank"><img src="https://opencollective.com/debug/backer/1/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/2/website" target="_blank"><img src="https://opencollective.com/debug/backer/2/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/3/website" target="_blank"><img src="https://opencollective.com/debug/backer/3/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/4/website" target="_blank"><img src="https://opencollective.com/debug/backer/4/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/5/website" target="_blank"><img src="https://opencollective.com/debug/backer/5/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/6/website" target="_blank"><img src="https://opencollective.com/debug/backer/6/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/7/website" target="_blank"><img src="https://opencollective.com/debug/backer/7/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/8/website" target="_blank"><img src="https://opencollective.com/debug/backer/8/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/9/website" target="_blank"><img src="https://opencollective.com/debug/backer/9/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/10/website" target="_blank"><img src="https://opencollective.com/debug/backer/10/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/11/website" target="_blank"><img src="https://opencollective.com/debug/backer/11/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/12/website" target="_blank"><img src="https://opencollective.com/debug/backer/12/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/13/website" target="_blank"><img src="https://opencollective.com/debug/backer/13/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/14/website" target="_blank"><img src="https://opencollective.com/debug/backer/14/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/15/website" target="_blank"><img src="https://opencollective.com/debug/backer/15/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/16/website" target="_blank"><img src="https://opencollective.com/debug/backer/16/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/17/website" target="_blank"><img src="https://opencollective.com/debug/backer/17/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/18/website" target="_blank"><img src="https://opencollective.com/debug/backer/18/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/19/website" target="_blank"><img src="https://opencollective.com/debug/backer/19/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/20/website" target="_blank"><img src="https://opencollective.com/debug/backer/20/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/21/website" target="_blank"><img src="https://opencollective.com/debug/backer/21/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/22/website" target="_blank"><img src="https://opencollective.com/debug/backer/22/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/23/website" target="_blank"><img src="https://opencollective.com/debug/backer/23/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/24/website" target="_blank"><img src="https://opencollective.com/debug/backer/24/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/25/website" target="_blank"><img src="https://opencollective.com/debug/backer/25/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/26/website" target="_blank"><img src="https://opencollective.com/debug/backer/26/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/27/website" target="_blank"><img src="https://opencollective.com/debug/backer/27/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/28/website" target="_blank"><img src="https://opencollective.com/debug/backer/28/avatar.svg"></a>
<a href="https://opencollective.com/debug/backer/29/website" target="_blank"><img src="https://opencollective.com/debug/backer/29/avatar.svg"></a>


## <a name="sponsors"></a>Sponsor

Diventare uno sponsor e ottenere il logo nel nostro file LEGGIMI in GitHub con un collegamento al proprio sito. [[Diventare uno sponsor](https://opencollective.com/debug#sponsor)]

<a href="https://opencollective.com/debug/sponsor/0/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/0/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/1/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/1/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/2/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/2/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/3/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/3/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/4/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/4/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/5/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/5/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/6/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/6/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/7/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/7/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/8/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/8/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/9/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/9/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/10/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/10/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/11/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/11/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/12/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/12/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/13/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/13/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/14/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/14/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/15/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/15/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/16/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/16/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/17/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/17/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/18/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/18/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/19/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/19/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/20/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/20/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/21/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/21/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/22/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/22/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/23/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/23/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/24/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/24/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/25/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/25/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/26/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/26/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/27/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/27/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/28/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/28/avatar.svg"></a>
<a href="https://opencollective.com/debug/sponsor/29/website" target="_blank"><img src="https://opencollective.com/debug/sponsor/29/avatar.svg"></a>

## <a name="license"></a>Licenza

(Licenza MIT)

Copyright (c) 2014-2017 TJ Holowaychuk &lt;tj@vision-media.ca&gt;

Questo documento concede l'autorizzazione, a titolo gratuito, a chiunque ottenga una copia di questo software e dei file della documentazione (il "Software"), di utilizzare il Software senza restrizioni, inclusi a titolo non esaustivo i diritti di utilizzo, copia, modifica, fusione, pubblicazione, distribuzione, concessione in sublicenza e/o vendita di copie del Software, e di consentire alle persone a cui è fornito il Software di eseguire queste azioni, fatte salve le seguenti condizioni:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

IL SOFTWARE VIENE FORNITO "COSÌ COM'È", SENZA ALCUNA GARANZIA, ESPRESSA O IMPLICITA, INCLUSE, A TITOLO ESEMPLIFICATIVO, LE GARANZIE DI COMMERCIABILITÀ, IDONEITÀ PER UNO SCOPO SPECIFICO E NON VIOLAZIONE DEI DIRITTI ALTRUI.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
